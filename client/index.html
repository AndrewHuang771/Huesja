<!DOCTYPE html>
<html>
<head>
	<title>Online Orchestra</title>
	<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script type="text/javascript" src="javascript/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="javascript/main.js"></script>
	<script type="text/javascript" src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
	<script type="text/javascript" src="javascript/pianokeys.js"></script>
</head>
<body id="wrapper">

	<div class="screen1">
	<div class="header">
		<h class="poo">Online Orchestra</h>
	</div>

		<div class="background">	
			<div class="trans">
			</div>
			<div class="standard">
				<p>An online concert</p>
				<p>experience.</p>
				<div><p>Play by yourself</p></div>
				<div><p> or with friends.</p></div>
				<br>
				<div class="solo" id="han" onclick="return false">
			<h onclick="isMultiplayer(false)">Solo</h>
		</div>
		<div class="multi" id="player" onclick="return true">
			<h onclick="isMultiplayer(true)">Concert</h>
		</div>
			</div>
		</div>
	</div>


	<div class="screen2">
	<div class="header2">
		<h class="poo">Pick your instrument</h>
	</div>

	<table class="table">
		<tr>
			<th><img onclick="chooseInstrument('piano');startPiano();" class="image" id="piano" src="../images/piano.png"></th>
			<th><img onclick="chooseInstrument('drums');startDrums();" class="image" id="drums" src="../images/drums.png"></th>
		</tr>
		<tr>
			<th><img onclick="chooseInstrument('guitar');startGuitar();" class="image" id="guitar" src="../images/guitar.png"></th>
			<th><img onclick="chooseInstrument('violin')" class="image" id="violin" src="../images/violin.png"></th>
		</tr>
	</table>
	</div>

	<div class="screen21">
		<div class="header2">
			<h class="poo">Pick your instrument</h>
		</div>
		<form>
			<input type="text" id="username" class="input" placeholder="Enter your name">
		</form>	

		<table class="table">
			<tr>
				<th><img onclick="chooseInstrument('piano')" class="image" id="pianomulti" src="../images/piano.png"></th>
				<th><img onclick="chooseInstrument('drums')" class="image" id="drumsmulti" src="../images/drums.png"></th>
			</tr>
			<tr>
				<th><img onclick="chooseInstrument('guitar')" class="image" id="guitarmulti" src="../images/guitar.png"></th>
				<th><img onclick="chooseInstrument('violin')" class="image" id="violinmulti" src="../images/violin.png"></th>
			</tr>
		</table>
	</div>

	<div class="multiplayer">
		Welcome to the multiplayer lobby screen.
		<button onclick="joinroom()">Join Room</button>
		<form>
			<input type="text" id="roomvalue" class="input" placeholder="Enter Room #">
		</form>	
		<button onclick="createroom()">Create Room</button>
	</div>

	<div class="screenPiano">
		<div class="header2">
		<h class="poo">Piano</h>
		</div>
		<img src="../images/piano1.jpg" class="keyboard">
<!-- 
		<button onclick="yoloswag()" style="position:absolute">res</button> -->
		<div class="key" onclick="keypress2(0)">
		</div>
		<div class="key" onclick="keypress2(1)">
		</div>
		<div class="key" onclick="keypress2(2)">
		</div>
		<div class="key" onclick="keypress2(3)">
		</div>
		<div class="key" onclick="keypress2(4)">
		</div>
		<div class="key" onclick="keypress2(5)">
		</div>
		<div class="key" onclick="keypress2(6)">
		</div>
		<div class="key" onclick="keypress2(12)">
		</div>
		<div class="key" onclick="keypress2(13)">
		</div>
		<div class="key" onclick="keypress2(14)">
		</div>
		<div class="key" onclick="keypress2(15)">
		</div>
		<div class="key" onclick="keypress2(16)">
		</div>
		<div class="key" onclick="keypress2(17)">
		</div>
		<div class="key" onclick="keypress2(18)">
		</div>
		<div class="key" onclick="keypress2(19)">
		</div>
		<div class="key" onclick="keypress2(25)">
		</div>
		<div class="key" onclick="keypress2(26)">
		</div>
		<div class="key" onclick="keypress2(27)">
		</div>
		<div class="key" onclick="keypress2(28)">
		</div>
		<div class="key" onclick="keypress2(29)">
		</div>
		<div class="key" onclick="keypress2(30)">
		</div>
		<div class="key" onclick="keypress2(36)">
		</div>
		<div class="key" onclick="keypress2(37)">
		</div>
		<div class="key" onclick="keypress2(38)">
		</div>
		<div class="key" onclick="keypress2(39)">
		</div>
		<div class="key" onclick="keypress2(40)">
		</div>
		<div class="key" onclick="keypress2(41)">
		</div>
		<div class="key" onclick="keypress2(42)">
		</div>
		<div class="key" onclick="keypress2(48)">
		</div>
		<div class="key" onclick="keypress2(49)">
		</div>
		<div class="key" onclick="keypress2(50)">
		</div>
		<div class="key" onclick="keypress2(51)">
		</div>
		<div class="key" onclick="keypress2(52)">
		</div>
		<div class="key" onclick="keypress2(53)">
		</div>
		<div class="key" onclick="keypress2(54)">
		</div>
		<div class="key" onclick="keypress2(60)">
		</div>

		<div class="blackKey1" onclick="keypress2(7)">
		</div>
		<div class="blackKey2" onclick="keypress2(8)">
		</div>
		<div class="blackKey3" onclick="keypress2(9)">
                </div>
                <div class="blackKey4" onclick="keypress2(10)">
                </div>
                <div class="blackKey5" onclick="keypress2(11)">
                </div>
                <div class="blackKey6" onclick="keypress2(20)">
                </div>
                <div class="blackKey7" onclick="keypress2(21)">
                </div>
                <div class="blackKey8" onclick="keypress2(22)">
                </div>
                <div class="blackKey9" onclick="keypress2(23)">
                </div>
                <div class="blackKey10" onclick="keypress2(24)">
                </div>
                <div class="blackKey11" onclick="keypress2(31)">
                </div>
                <div class="blackKey12" onclick="keypress2(32)">
                </div>
                <div class="blackKey13" onclick="keypress2(33)">
                </div>
                <div class="blackKey14" onclick="keypress2(34)">
                </div>
                <div class="blackKey15" onclick="keypress2(35)">
                </div>
                <div class="blackKey16" onclick="keypress2(43)">
                </div>
                <div class="blackKey17" onclick="keypress2(44)">
                </div>
                <div class="blackKey18" onclick="keypress2(45)">
                </div>
                <div class="blackKey19" onclick="keypress2(46)">
                </div>
                <div class="blackKey20" onclick="keypress2(47)">
                </div>
                <div class="blackKey21" onclick="keypress2(55)">
                </div>
                <div class="blackKey22" onclick="keypress2(56)">
                </div>
                <div class="blackKey23" onclick="keypress2(57)">
                </div>
                <div class="blackKey24" onclick="keypress2(58)">
                </div>
                <div class="blackKey25" onclick="keypress2(59)">
                </div>

	</div>

	<div class="screenDrums">
		<img src="images/drumset.png" class="book">
	</div>

 	<div class="screenGuitar">

 	</div>

 	<div class="screenViolin">

 	</div>


	<script>
		var socket = io();

		var soundtest = new Audio('javascript/Audio/piano/Piano.ff.D3.mp3');

		function isMultiplayer(boole) {
			socket.emit('gameSetting', boole);
		}

		function chooseInstrument(instrument) {
			socket.emit('chooseInstrument', instrument);
	      	var roomNumber = document.getElementById("username").value;
		}

		function joinroom() {
	    	var roomNumber = document.getElementById("roomvalue").value;
	     	if (roomNumber == "") {
	        	alert("The field is empty");
	      	} else {
	        	socket.emit('joinRoom', roomNumber); 
	      	}
		}

		function createroom() {
	      	var roomNumber = Math.floor(Math.random() * 100000); 
	      
	      	socket.emit('newRoom', roomNumber); 
		}

		function globalSound() {
			socket.emit('globalSound');
		}

		socket.on('playSound', function() {
			soundtest.pause();
			soundtest.currentTime = 0;
			soundtest.play();	
		});
		
		socket.on('invalidRoom', function() {
		    alert("There is no such room! (Either that or you ran into the rare case of a duplicate room generation!"); 
		});
		
		socket.on('lobby', function() {
		    //Throw this dude into the lobby
		    socket.emit('whatRoom');
		});

		socket.on('roomNumber', function(roomNumber) {
		    socket.emit('showPlayers', roomNumber);    
		}); 

		socket.on('displayNames', function(members, roomNumber){
		    document.getElementById("wrapper").innerHTML = "<div id='musicians'>Room Number:" + roomNumber + "</div><button onclick='globalSound()'>GlobalSound</button>";
		    
		    for (var i in members) {
			    var node = document.createElement("LI");
			    var textnode = document.createTextNode(members[i]);
			    node.appendChild(textnode);
			    document.getElementById("musicians").appendChild(node);		    	
		    }

		    console.log('--------------');
		    for (var i = 0; i < members.length; i++) {
		      console.log(members[i]); 
		    }
		});


	</script>
</body>
</html>